OverlayHolder:

<OverlayHolder>:
    MainLayout:
        id: mainLayout
        size_hint: 1,1
    HelpersLayout:
        id: HelpersLayout
        size_hint: 1, None
        height: dp(60)
        pos: 0, root.height - self.height
    Button:
        id: HelpersDisplayButton
        text: "+"
        size_hint: None, None
        width: dp(40)
        height: dp(40)
        pos: dp(10), root.height - self.height - dp(10)
        on_press: root.ids.HelpersLayout.toggle(self)
    MainModal:
        id: modal
        size_hint: 1,1
        opacity: 0
        disabled: True

<HelperButtonHolder@RelativeLayout>:
    passing_text: "N/A"
    size_hint: 1, None
    height: self.parent.height - dp(10)
    HelperButton:
        text: self.parent.passing_text
        size_hint: 1,1
        pos: 0, dp(10)

<HelpersLayout>:
    canvas.before:
        Color:
            rgba: 0.2,0.2,0.3,0.7
        RoundedRectangle:
            size: self.width, self.height + dp(10)
            pos: self.pos[0], self.pos[1] + dp(10)

    HelperButtonHolder:
        passing_text: "a"

    HelperButtonHolder:
        passing_text: "b"

    HelperButtonHolder:
        passing_text: "c"


<MainModal>:
    canvas.before:
        Color:
            rgba: 0,0,0,0.7
        Rectangle:
            pos: self.pos
            size: self.size
    Label:
        text: "you have lost"
        id: popupText
        pos: 0 ,self.parent.height - self.height
        size_hint: None, None
        height: dp(80)
        width: self.parent.width
        font_size: dp(40)

    Label:
        text: "time: {}"
        id: timeText
        pos: 0 ,self.parent.height - self.height - self.parent.ids.popupText.height
        size_hint: None, None
        height: dp(80)
        width: self.parent.width
        font_size: dp(40)

    Button:
        text: "restart"
        id: restartButton
        pos: self.parent.width/2 - self.width/2 ,self.parent.height - self.height - self.parent.ids.popupText.height - self.parent.ids.timeText.height - dp(30)
        size_hint: None, None
        height: dp(80)
        width: max(self.parent.width / 2, dp(200))
        font_size: dp(40)

        on_press: self.parent.restartGame()

<MainLayout>:
    massage_label:massage_label
    Label:
        text: "time: {}"
        size_hint: 1, None
        height: str(max(self.width / 5, 70)) + "dp"
        id: massage_label
        font_size: str(max(self.width / 6, 25)) + "dp"
    ScrollView:
        GridDisplay:
            id: Grid
            size_hint: 1, None
            height: self.width

<GridDisplay>:

<CellButton>:
    background_normal: ""
